<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.fzf.game.mapper.ShopMapper">
  <resultMap id="BaseShopMap" type="com.fzf.game.domain.entity.Shop">
    <!--@mbg.generated-->
    <id column="shop_id" jdbcType="INTEGER" property="shopId" />
    <result column="shop_name" jdbcType="VARCHAR" property="shopName" />
    <result column="big_type_id" jdbcType="INTEGER" property="bigTypeId" />
    <result column="shop_descripe" jdbcType="VARCHAR" property="shopDescripe" />
    <result column="shop_stock" jdbcType="INTEGER" property="shopStock" />
    <result column="original_price" jdbcType="DOUBLE" property="originalPrice" />
    <result column="present_price" jdbcType="DOUBLE" property="presentPrice" />
  </resultMap>
  <resultMap id="BaseShopVo" type="com.fzf.game.domain.vo.ShopVo" extends="BaseShopMap">
    <collection property="shopImages" resultMap="com.fzf.game.mapper.ImgMapper.BaseImgMap">
    </collection>
  </resultMap>


  <select id="findAll" resultMap="BaseShopMap">
      SELECT *
      FROM  shop s
      limit #{page},#{size}
  </select>

  <select id="findByKeyWord" resultMap="BaseShopMap">
    select * from shop
    where shop_name like '%${keyword}%'
  </select>
  <select id="findShop" resultMap="BaseShopVo">
    select * from shop s
    left join img i on s.shop_id = i.shop_id
    where   s.shop_id = #{shopId}
  </select>

</mapper>